<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Game - Admin Panel</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/admin.css">
</head>
<body>
    <!-- Login Screen -->
    <div id="login-screen" class="screen active">
        <div class="login-container">
            <div class="login-header">
                <h1>üéØ Quiz Game Admin</h1>
                <p>ƒêƒÉng nh·∫≠p ƒë·ªÉ qu·∫£n l√Ω h·ªá th·ªëng</p>
            </div>
            <form id="login-form">
                <div class="form-group">
                    <label for="username">T√™n ƒëƒÉng nh·∫≠p:</label>
                    <input type="text" id="username" required placeholder="Nh·∫≠p t√™n ƒëƒÉng nh·∫≠p">
                </div>
                <div class="form-group">
                    <label for="password">M·∫≠t kh·∫©u:</label>
                    <input type="password" id="password" required placeholder="Nh·∫≠p m·∫≠t kh·∫©u">
                </div>
                <button type="submit" class="btn btn-primary btn-login">
                    <span class="btn-icon">üîê</span>
                    ƒêƒÉng nh·∫≠p
                </button>
                <div class="login-info">
                    <p><strong>Th√¥ng tin m·∫∑c ƒë·ªãnh:</strong></p>
                    <p>Username: <code>admin</code></p>
                    <p>Password: <code>admin123</code></p>
                </div>
            </form>
        </div>
    </div>

    <!-- Admin Dashboard -->
    <div id="admin-dashboard" class="screen">
        <header class="admin-header">
            <div class="header-content">
                <div class="header-title">
                    <h1>üéØ Quiz Game Admin</h1>
                    <span class="admin-badge">Qu·∫£n tr·ªã vi√™n</span>
                </div>
                <button id="logout-btn" class="btn btn-secondary btn-logout">
                    <span class="btn-icon">üö™</span>
                    ƒêƒÉng xu·∫•t
                </button>
            </div>
        </header>
        
        <nav class="admin-nav">
            <div class="nav-container">
                <button class="nav-btn active" data-tab="dashboard">
                    <span class="nav-icon">üìä</span>
                    T·ªïng quan
                </button>
                <button class="nav-btn" data-tab="questions">
                    <span class="nav-icon">‚ùì</span>
                    Qu·∫£n l√Ω c√¢u h·ªèi
                </button>
                <button class="nav-btn" data-tab="contributions">
                    <span class="nav-icon">üì®</span>
                    ƒê√≥ng g√≥p
                    <span class="badge" id="contributions-badge">0</span>
                </button>
                <button class="nav-btn" data-tab="settings">
                    <span class="nav-icon">‚öôÔ∏è</span>
                    C√†i ƒë·∫∑t
                </button>
            </div>
        </nav>
        
        <main class="admin-content">
            <!-- Dashboard Tab -->
            <div id="dashboard-tab" class="tab-content active">
                <div class="tab-header">
                    <h2>üìä T·ªïng quan h·ªá th·ªëng</h2>
                    <p class="tab-subtitle">Th·ªëng k√™ v√† ho·∫°t ƒë·ªông g·∫ßn ƒë√¢y</p>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">‚ùì</div>
                        <div class="stat-info">
                            <h3>T·ªïng s·ªë c√¢u h·ªèi</h3>
                            <div id="total-questions" class="stat-number">0</div>
                            <div class="stat-trend">T·∫•t c·∫£ ƒë·ªô kh√≥</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üë•</div>
                        <div class="stat-info">
                            <h3>T·ªïng s·ªë ng∆∞·ªùi ch∆°i</h3>
                            <div id="total-players" class="stat-number">0</div>
                            <div class="stat-trend">Ng∆∞·ªùi ch∆°i duy nh·∫•t</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üì®</div>
                        <div class="stat-info">
                            <h3>ƒê√≥ng g√≥p ch·ªù duy·ªát</h3>
                            <div id="total-contributions" class="stat-number">0</div>
                            <div class="stat-trend">C·∫ßn x·ª≠ l√Ω</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üéÆ</div>
                        <div class="stat-info">
                            <h3>T·ªïng l∆∞·ª£t ch∆°i</h3>
                            <div id="total-rankings" class="stat-number">0</div>
                            <div class="stat-trend">L∆∞·ª£t ch∆°i th√†nh c√¥ng</div>
                        </div>
                    </div>
                </div>

                <div class="recent-activity">
                    <h3>üìà Ho·∫°t ƒë·ªông g·∫ßn ƒë√¢y</h3>
                    <div class="activity-list">
                        <div class="activity-item">
                            <div class="activity-icon">üîÑ</div>
                            <div class="activity-content">
                                <p>H·ªá th·ªëng ƒëang ch·∫°y ·ªïn ƒë·ªãnh</p>
                                <span class="activity-time">V·ª´a xong</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Questions Tab -->
            <div id="questions-tab" class="tab-content">
                <div class="tab-header">
                    <div class="tab-title">
                        <h2>‚ùì Qu·∫£n l√Ω c√¢u h·ªèi</h2>
                        <p class="tab-subtitle">Th√™m, s·ª≠a, x√≥a c√¢u h·ªèi v√† ch·ªânh s·ª≠a gi·∫£i th√≠ch, video, ·∫£nh</p>
                    </div>
                    <div class="header-actions">
                        <button id="skip-to-last-btn" class="btn btn-warning" style="margin-right: 10px;">
                            <span class="btn-icon">‚è≠Ô∏è</span>
                            B·ªè Qua ƒê·∫øn C√¢u Cu·ªëi
                        </button>
                        <button id="add-question-btn" class="btn btn-primary">
                            <span class="btn-icon">‚ûï</span>
                            Th√™m c√¢u h·ªèi
                        </button>
                    </div>
                </div>

                <div class="questions-actions">
                    <div class="search-box">
                        <input type="text" id="question-search" placeholder="üîç T√¨m ki·∫øm c√¢u h·ªèi...">
                    </div>
                </div>

                <div class="questions-list" id="questions-list">
                    <div class="empty-state">
                        <div class="empty-icon">üìù</div>
                        <h3>Ch∆∞a c√≥ c√¢u h·ªèi n√†o</h3>
                        <p>B·∫Øt ƒë·∫ßu b·∫±ng c√°ch th√™m c√¢u h·ªèi ƒë·∫ßu ti√™n v√†o h·ªá th·ªëng</p>
                        <button class="btn btn-primary" onclick="openQuestionModal()">
                            <span class="btn-icon">‚ûï</span>
                            Th√™m c√¢u h·ªèi ƒë·∫ßu ti√™n
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Contributions Tab -->
            <div id="contributions-tab" class="tab-content">
                <div class="tab-header">
                    <h2>üì® ƒê√≥ng g√≥p t·ª´ ng∆∞·ªùi ch∆°i</h2>
                    <p class="tab-subtitle">Duy·ªát ho·∫∑c x√≥a c√°c c√¢u h·ªèi ƒë∆∞·ª£c ƒë√≥ng g√≥p</p>
                </div>

                <div class="contributions-actions">
                    <div class="contributions-info">
                        <span class="info-text">C√≥ <strong id="pending-count">0</strong> ƒë√≥ng g√≥p ƒëang ch·ªù duy·ªát</span>
                    </div>
                </div>

                <div class="contributions-list" id="contributions-list">
                    <div class="empty-state">
                        <div class="empty-icon">üéâ</div>
                        <h3>Kh√¥ng c√≥ ƒë√≥ng g√≥p n√†o</h3>
                        <p>T·∫•t c·∫£ ƒë√≥ng g√≥p ƒë√£ ƒë∆∞·ª£c x·ª≠ l√Ω</p>
                    </div>
                </div>
            </div>

            <!-- Settings Tab -->
            <div id="settings-tab" class="tab-content">
                <div class="tab-header">
                    <h2>‚öôÔ∏è C√†i ƒë·∫∑t th√¥ng b√°o</h2>
                    <p class="tab-subtitle">T√πy ch·ªânh th√¥ng b√°o ch√†o m·ª´ng cho ng∆∞·ªùi ch∆°i</p>
                </div>
                
                <div class="settings-container">
                    <div class="settings-form-section">
                        <h3>üì¢ C·∫•u h√¨nh th√¥ng b√°o</h3>
                        <form id="notification-settings-form">
                            <div class="form-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="notification-active">
                                    <span class="checkmark"></span>
                                    Hi·ªÉn th·ªã th√¥ng b√°o ch√†o m·ª´ng
                                </label>
                            </div>
                            
                            <div class="form-group">
                                <label for="notification-title">Ti√™u ƒë·ªÅ:</label>
                                <input type="text" id="notification-title" placeholder="Nh·∫≠p ti√™u ƒë·ªÅ th√¥ng b√°o">
                            </div>
                            
                            <div class="form-group">
                                <label for="notification-content">N·ªôi dung:</label>
                                <textarea id="notification-content" placeholder="Nh·∫≠p n·ªôi dung th√¥ng b√°o (c√≥ th·ªÉ xu·ªëng d√≤ng)" rows="4"></textarea>
                                <small class="form-text">S·ª≠ d·ª•ng Enter ƒë·ªÉ xu·ªëng d√≤ng</small>
                            </div>
                            
                            <div class="form-group">
                                <label for="notification-image">URL ·∫£nh (t√πy ch·ªçn):</label>
                                <input type="text" id="notification-image" placeholder="https://example.com/image.jpg">
                                <small class="form-text">ƒê·ªÉ tr·ªëng n·∫øu kh√¥ng mu·ªën hi·ªÉn th·ªã ·∫£nh</small>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="notification-type">Ki·ªÉu th√¥ng b√°o:</label>
                                    <select id="notification-type">
                                        <option value="info">üí° Th√¥ng tin</option>
                                        <option value="success">‚úÖ Th√†nh c√¥ng</option>
                                        <option value="warning">‚ö†Ô∏è C·∫£nh b√°o</option>
                                        <option value="error">‚ùå L·ªói</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="notification-duration">Th·ªùi gian hi·ªÉn th·ªã (gi√¢y):</label>
                                    <input type="number" id="notification-duration" min="0" max="60" value="0">
                                    <small class="form-text">0 = kh√¥ng t·ª± ƒë·ªông t·∫Øt</small>
                                </div>
                            </div>
                            
                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary">
                                    <span class="btn-icon">üíæ</span>
                                    L∆∞u c√†i ƒë·∫∑t
                                </button>
                                <button type="button" id="preview-notification" class="btn btn-secondary">
                                    <span class="btn-icon">üëÅÔ∏è</span>
                                    Xem tr∆∞·ªõc
                                </button>
                                <button type="button" id="reset-settings" class="btn btn-outline">
                                    <span class="btn-icon">üîÑ</span>
                                    ƒê·∫∑t l·∫°i
                                </button>
                            </div>
                        </form>
                    </div>
                    
                    <div class="preview-section">
                        <h3>üëÅÔ∏è Xem tr∆∞·ªõc th√¥ng b√°o</h3>
                        <div class="preview-container">
                            <div id="notification-preview" class="notification-preview">
                                <div class="preview-disabled">
                                    <div class="preview-icon">üîï</div>
                                    <h4>Th√¥ng b√°o ƒëang t·∫Øt</h4>
                                    <p>Ng∆∞·ªùi ch∆°i s·∫Ω kh√¥ng th·∫•y th√¥ng b√°o n√†y khi v√†o game</p>
                                </div>
                            </div>
                            <div class="preview-note">
                                <p>üí° <strong>L∆∞u √Ω:</strong> ƒê√¢y l√† b·∫£n xem tr∆∞·ªõc. Th√¥ng b√°o th·ª±c t·∫ø s·∫Ω hi·ªÉn th·ªã to√†n m√†n h√¨nh.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Add/Edit Question Modal -->
    <div id="question-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">Th√™m c√¢u h·ªèi m·ªõi</h3>
                <button class="modal-close">&times;</button>
            </div>
            <form id="question-form">
                <input type="hidden" id="question-id">
                <div class="form-group">
                    <label for="modal-question">C√¢u h·ªèi:</label>
                    <textarea id="modal-question" required placeholder="Nh·∫≠p n·ªôi dung c√¢u h·ªèi..."></textarea>
                </div>
                <div class="answer-options">
                    <div class="form-group">
                        <label for="modal-answer-a" class="answer-label">
                            <span class="answer-letter">A</span>
                            ƒê√°p √°n A:
                        </label>
                        <input type="text" id="modal-answer-a" required placeholder="Nh·∫≠p ƒë√°p √°n A">
                    </div>
                    <div class="form-group">
                        <label for="modal-answer-b" class="answer-label">
                            <span class="answer-letter">B</span>
                            ƒê√°p √°n B:
                        </label>
                        <input type="text" id="modal-answer-b" required placeholder="Nh·∫≠p ƒë√°p √°n B">
                    </div>
                    <div class="form-group">
                        <label for="modal-answer-c" class="answer-label">
                            <span class="answer-letter">C</span>
                            ƒê√°p √°n C:
                        </label>
                        <input type="text" id="modal-answer-c" required placeholder="Nh·∫≠p ƒë√°p √°n C">
                    </div>
                    <div class="form-group">
                        <label for="modal-answer-d" class="answer-label">
                            <span class="answer-letter">D</span>
                            ƒê√°p √°n D:
                        </label>
                        <input type="text" id="modal-answer-d" required placeholder="Nh·∫≠p ƒë√°p √°n D">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="modal-correct-answer">ƒê√°p √°n ƒë√∫ng:</label>
                        <select id="modal-correct-answer" required>
                            <option value="">Ch·ªçn ƒë√°p √°n ƒë√∫ng</option>
                            <option value="A">A</option>
                            <option value="B">B</option>
                            <option value="C">C</option>
                            <option value="D">D</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="modal-explanation">Gi·∫£i th√≠ch chi ti·∫øt:</label>
                    <textarea id="modal-explanation" placeholder="Nh·∫≠p gi·∫£i th√≠ch chi ti·∫øt cho c√¢u h·ªèi n√†y..."></textarea>
                    <small class="form-text">Gi·∫£i th√≠ch s·∫Ω hi·ªÉn th·ªã sau khi ng∆∞·ªùi ch∆°i tr·∫£ l·ªùi</small>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="modal-explanation-video">Video gi·∫£i th√≠ch (URL ho·∫∑c ƒë∆∞·ªùng d·∫´n):</label>
                        <input type="text" id="modal-explanation-video" placeholder="assets/videos/explanation1.mp4 ho·∫∑c https://...">
                        <small class="form-text">ƒê∆∞·ªùng d·∫´n t∆∞∆°ng ƒë·ªëi t·ª´ public/ ho·∫∑c URL ƒë·∫ßy ƒë·ªß</small>
                    </div>
                    <div class="form-group">
                        <label for="modal-explanation-image">·∫¢nh gi·∫£i th√≠ch (URL ho·∫∑c ƒë∆∞·ªùng d·∫´n):</label>
                        <input type="text" id="modal-explanation-image" placeholder="assets/images/explanation1.jpg ho·∫∑c https://...">
                        <small class="form-text">ƒê∆∞·ªùng d·∫´n t∆∞∆°ng ƒë·ªëi t·ª´ public/ ho·∫∑c URL ƒë·∫ßy ƒë·ªß</small>
                    </div>
                </div>
                <div class="modal-actions">
                    <button type="submit" class="btn btn-primary">
                        <span class="btn-icon">üíæ</span>
                        L∆∞u c√¢u h·ªèi
                    </button>
                    <button type="button" class="btn btn-secondary modal-cancel">
                        <span class="btn-icon">‚ùå</span>
                        H·ªßy
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="delete-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>‚ö†Ô∏è X√°c nh·∫≠n x√≥a</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="warning-icon">üóëÔ∏è</div>
                <p>B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a c√¢u h·ªèi n√†y?</p>
                <p class="warning-text">H√†nh ƒë·ªông n√†y kh√¥ng th·ªÉ ho√†n t√°c!</p>
            </div>
            <div class="modal-actions">
                <button id="confirm-delete" class="btn btn-danger">
                    <span class="btn-icon">üóëÔ∏è</span>
                    X√≥a
                </button>
                <button class="btn btn-secondary modal-cancel">
                    <span class="btn-icon">‚Ü©Ô∏è</span>
                    H·ªßy
                </button>
            </div>
        </div>
    </div>

    <script src="js/utils.js"></script>
    <script src="js/admin.js"></script>
</body>
</html>